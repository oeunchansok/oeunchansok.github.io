import{f as F,g as a,h as G,i as U,j as z,c as i,a as e,k as w,d as n,n as V,l as _,v as S,t as c,F as D,r as L,o as r,m as O}from"./DnTfsgsM.js";import{s as B}from"./x_rD_Ya3.js";import{_ as $}from"./DlAUqK2U.js";const A={class:"min-h-screen flex flex-col items-center justify-center p-4 sm:p-6 bg-gradient-to-br from-green-100 to-blue-100"},E={key:0,class:"mb-4 text-gray-600 text-sm sm:text-base"},H={key:1,class:"w-full max-w-xl h-3 bg-gray-200 rounded-full mb-4 overflow-hidden"},P={class:"flex flex-wrap justify-center items-center gap-2 sm:gap-3 mb-4 text-xs sm:text-sm"},R=["disabled"],W=["disabled"],q={class:"flex items-center gap-1 sm:gap-2"},J={class:"flex items-center gap-1 sm:gap-2"},K={class:"flex items-center gap-1 sm:gap-2"},Q={class:"mb-3 text-sm sm:text-lg flex flex-wrap justify-center gap-4"},X={class:"score"},Y=["onClick","disabled"],Z={key:0,class:"mole"},ee={key:2,class:"overlay"},le={class:"overlay-box"},se={class:"mb-2"},te={class:"font-bold"},ae={class:"mb-2"},oe={class:"mb-4"},ne=F({__name:"index",setup(ue){var T;const v=a(0),g=a(0),f=a(Number(((T=globalThis.localStorage)==null?void 0:T.getItem("mole-best"))||0)),s=a(!1),y=a(!1),b=a(3),I=G(()=>b.value*b.value),u=a(null),k=a(650),d=a(30),x=a(d.value);let m=null,p=null;function N(o){return Math.floor(Math.random()*o)}function C(){s.value&&(u.value=N(I.value))}function j(o){s.value&&(o===u.value?(v.value++,u.value=null):g.value++)}function h(){s.value=!0,y.value=!1,v.value=0,g.value=0,x.value=d.value,u.value=null,m=B(C,k.value),C(),p=B(()=>{x.value-=1,x.value<=0&&M()},1e3)}function M(){var o;s.value=!1,m&&clearInterval(m),p&&clearInterval(p),m=null,p=null,u.value=null,y.value=!0,v.value>f.value&&(f.value=v.value,(o=globalThis.localStorage)==null||o.setItem("mole-best",String(f.value)))}return U(()=>{m&&clearInterval(m),p&&clearInterval(p)}),z(d,o=>{s.value||(x.value=o)}),(o,l)=>(r(),i("main",A,[l[16]||(l[16]=e("h1",{class:"text-3xl sm:text-4xl font-extrabold mb-2 drop-shadow mt-10"},"🐹 Whack-a-Mole",-1)),s.value?w("",!0):(r(),i("p",E,l[3]||(l[3]=[n(" Click "),e("strong",null,"Start",-1),n(" and whack the glowing hole! ")]))),s.value?(r(),i("div",H,[e("div",{class:"h-3 bg-yellow-500 transition-all duration-100 ease-linear",style:V({width:x.value/d.value*100+"%"})},null,4)])):w("",!0),e("div",P,[e("button",{class:"btn-start",disabled:s.value,onClick:h},"▶ Start",8,R),e("button",{class:"btn-stop",disabled:!s.value,onClick:M},"⏹ Stop",8,W),e("label",q,[l[5]||(l[5]=n(" Speed: ")),_(e("select",{"onUpdate:modelValue":l[0]||(l[0]=t=>k.value=t),class:"select"},l[4]||(l[4]=[e("option",{value:900},"Slow",-1),e("option",{value:650},"Normal",-1),e("option",{value:450},"Fast",-1),e("option",{value:300},"Insane",-1)]),512),[[S,k.value,void 0,{number:!0}]])]),e("label",J,[l[7]||(l[7]=n(" Grid: ")),_(e("select",{"onUpdate:modelValue":l[1]||(l[1]=t=>b.value=t),class:"select"},l[6]||(l[6]=[e("option",{value:3},"3×3",-1),e("option",{value:4},"4×4",-1),e("option",{value:5},"5×5",-1)]),512),[[S,b.value,void 0,{number:!0}]])]),e("label",K,[l[9]||(l[9]=n(" Time: ")),_(e("select",{"onUpdate:modelValue":l[2]||(l[2]=t=>d.value=t),class:"select"},l[8]||(l[8]=[e("option",{value:30},"30s",-1),e("option",{value:45},"45s",-1),e("option",{value:60},"60s",-1)]),512),[[S,d.value,void 0,{number:!0}]])])]),e("div",Q,[e("div",null,[l[10]||(l[10]=e("span",{class:"font-semibold"},"Score:",-1)),l[11]||(l[11]=n()),e("span",X,c(v.value),1)]),e("div",null,[l[12]||(l[12]=e("span",{class:"font-semibold"},"Miss:",-1)),n(" "+c(g.value),1)]),e("div",null,[l[13]||(l[13]=e("span",{class:"font-semibold"},"Best:",-1)),n(" "+c(f.value),1)])]),e("div",{class:"grid gap-2 sm:gap-3 w-full max-w-xl",style:V({gridTemplateColumns:`repeat(${b.value}, minmax(50px, 1fr))`})},[(r(!0),i(D,null,L(I.value,t=>(r(),i("button",{key:t,class:O(["hole",{active:u.value===t-1,disabled:!s.value}]),onClick:ie=>j(t-1),disabled:!s.value,"aria-label":"hole"},[u.value===t-1?(r(),i("span",Z,"🐹")):w("",!0)],10,Y))),128))],4),y.value?(r(),i("div",ee,[e("div",le,[l[15]||(l[15]=e("h2",{class:"text-xl sm:text-2xl font-bold mb-3"},"🎉 Game Over 🎉",-1)),e("p",se,[l[14]||(l[14]=n("Final Score: ")),e("span",te,c(v.value),1)]),e("p",ae,"Misses: "+c(g.value),1),e("p",oe,"Best Score: "+c(f.value),1),e("button",{class:"btn-start w-32 sm:w-40",onClick:h},"Play Again")])])):w("",!0)]))}}),me=$(ne,[["__scopeId","data-v-5766cf5b"]]);export{me as default};
